# Управление театральными постановками — Минимальное приложение

Это простое приложение на Flask для управления театральными постановками: создание, редактирование, удаление и просмотр. Добавлены поля: режиссёр, жанр, премьера, вместимость и статус постановки.

Технологии
- Python 3.8+
- Flask
- Flask-SQLAlchemy (SQLite)

Коротко: этот репозиторий содержит `app.py` (маршруты и модель `Production`), шаблоны в `templates/`, стили в `static/` и файл базы `db.sqlite3`, который создаётся автоматически.

Полные инструкции по запуску (Windows PowerShell)

1) Перейдите в каталог проекта:

```powershell
cd C:\Users\dezik\Desktop\проекты\kyr
```

2) (Опционально) создайте и активируйте виртуальное окружение:

```powershell
python -m venv .venv
Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass
.\.venv\Scripts\Activate.ps1
```

3) Установка зависимостей и запуск приложения:

```powershell
python -m pip install --upgrade pip
pip install -r .\requirements.txt
python app.py
```

Откройте в браузере: http://127.0.0.1:5000/

Примечания по миграции данных

Если в проекте уже есть `db.sqlite3` с предыдущей схемой (Masterclass), то добавление/переименование колонок в модели не изменит существующую таблицу автоматически. В демо-репозитории проще удалить `db.sqlite3`, чтобы приложение пересоздало таблицы с новой схемой и засеяло демонстрационные постановки:

```powershell
Remove-Item -Force .\db.sqlite3
python app.py
```

Если вы хотите сохранить старые данные — используйте Alembic/ручную миграцию. Я могу помочь с этим при необходимости.

Структура файлов

- `app.py` — основной код, маршруты и модель `Production`.
- `models.py` — вспомогательная модель `Production` (при желании можно вынести и импортировать из отдельного модуля).
- `templates/` — шаблоны: `index.html`, `form.html`, `detail.html`.
- `static/style.css` — стили.
- `requirements.txt` — список зависимостей.

